<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>üéÑ Surprise de No√´l üéÅ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #8b0000, #2b0000);
      color: #fff;
      text-align: center;
      overflow: hidden;
      touch-action: manipulation; /* utile pour mobile */
    }

    .container {
      position: relative;
      z-index: 2;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    h1 {
      font-size: clamp(2rem, 8vw, 3rem);
      margin-bottom: 30px;
    }

    button {
      font-size: clamp(1.2rem, 5vw, 1.8rem);
      padding: clamp(15px, 3vw, 25px) clamp(30px, 6vw, 50px);
      border: none;
      border-radius: 60px;
      background: linear-gradient(45deg, #ffcc00, #ff8800);
      color: #5a0000;
      cursor: pointer;
      box-shadow: 0 0 25px rgba(255, 200, 0, 0.8);
      transition: transform 0.2s, box-shadow 0.2s;
      touch-action: manipulation;
    }

    button:hover, button:active {
      transform: scale(1.08);
      box-shadow: 0 0 40px rgba(255, 220, 100, 1);
    }

    #surprise {
      display: none;
      margin-top: 20px;
      animation: fadeIn 2s ease forwards;
    }

    #surprise img {
      max-width: 90vw;
      max-height: 60vh;
      border-radius: 20px;
      box-shadow: 0 0 40px rgba(255,255,255,0.6);
      object-fit: contain;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>

<body>

<canvas id="canvas"></canvas>

<div class="container">
  <h1>üéÑ Joyeux No√´l üéÅ</h1>
  <button id="btn">Appuie pour voir ton cadeau</button>

  <div id="surprise">
    <img src="image.png" alt="Ton cadeau de No√´l" />
  </div>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const btn = document.getElementById("btn");
const surprise = document.getElementById("surprise");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

/* ‚ùÑÔ∏è NEIGE */
let snowflakes = [];

function createSnowflake() {
  return {
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 3 + 1,
    speed: Math.random() * 0.6 + 0.3,
    drift: Math.random() * 0.5 - 0.25,
    opacity: Math.random() * 0.5 + 0.5
  };
}

for (let i = 0; i < 120; i++) {
  snowflakes.push(createSnowflake());
}

/* üéÜ FEUX D‚ÄôARTIFICE */
let particles = [];

function createFirework(x, y) {
  for (let i = 0; i < 80; i++) {
    particles.push({
      x,
      y,
      angle: Math.random() * Math.PI * 2,
      speed: Math.random() * 6 + 2,
      life: 100,
      color: `hsl(${Math.random() * 360},100%,60%)`
    });
  }
}

/* üé® ANIMATION */
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Neige
  snowflakes.forEach(flake => {
    flake.y += flake.speed;
    flake.x += flake.drift;

    if (flake.y > canvas.height) {
      flake.y = -5;
      flake.x = Math.random() * canvas.width;
    }

    ctx.beginPath();
    ctx.arc(flake.x, flake.y, flake.r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255,255,255,${flake.opacity})`;
    ctx.fill();
  });

  // Feux d‚Äôartifice
  for (let i = particles.length - 1; i >= 0; i--) {
    const p = particles[i];
    p.x += Math.cos(p.angle) * p.speed;
    p.y += Math.sin(p.angle) * p.speed;
    p.life--;

    ctx.beginPath();
    ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
    ctx.fillStyle = p.color;
    ctx.fill();

    if (p.life <= 0) particles.splice(i, 1);
  }

  requestAnimationFrame(animate);
}

animate();

/* üéÅ INTERACTION */
function revealGift() {
  btn.style.display = "none";
  surprise.style.display = "block";

  // Feux d‚Äôartifice continus pendant 5 secondes
  const fireworksInterval = setInterval(() => {
    createFirework(
      Math.random() * canvas.width,
      Math.random() * canvas.height * 0.6
    );
  }, 500);

  setTimeout(() => clearInterval(fireworksInterval), 5000);
}

// Mobile-friendly : clic ou toucher
btn.addEventListener("click", revealGift);
btn.addEventListener("touchstart", (e) => {
  e.preventDefault(); // √©viter double d√©clenchement
  revealGift();
});
</script>

</body>
</html>
